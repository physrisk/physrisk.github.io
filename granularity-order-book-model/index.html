<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>    Granularity order book model
 &ndash; Physics of Risk</title>
        <meta name="author" content="Physics of Risk">

        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

        <link rel="stylesheet" type="text/css" href="/theme/css/style.css">

        <link rel="apple-touch-icon" sizes="180x180" href="/theme/favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/theme/favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/theme/favicon/favicon-16x16.png">
        <link rel="manifest" href="/theme/favicon/site.webmanifest">
        <link rel="mask-icon" href="/theme/favicon/safari-pinned-tab.svg" color="#770033">
        <link rel="shortcut icon" href="/theme/favicon/favicon.ico">
        <meta name="apple-mobile-web-app-title" content="Physics of Risk">
        <meta name="application-name" content="Physics of Risk">
        <meta name="msapplication-TileColor" content="#770033">
        <meta name="msapplication-config" content="/theme/favicon/browserconfig.xml">
        <meta name="theme-color" content="#770033">

        <link rel="stylesheet" type="text/css" href="https://fonts.bunny.net/css2?family=Roboto+Condensed:wght@700&family=Open+Sans" crossorigin="anonymous">

            <link href="https://rf.mokslasplius.lt/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Physics of Risk - All posts - RSS Feed">

            <meta name="description" content="We continue our series of posts on order book models by considering an order book model proposed by Cristelli et al. [1], which is able to reproduce power-law price change. Originally this model was develop to study order impacts on a price in...">
        <meta property="og:site_name" content="Physics of Risk" >
        <meta property="og:type" content="article">
    
            <meta property="og:title" content="Granularity order book model - Physics of Risk">
            <meta property="og:url" content="https://rf.mokslasplius.lt/granularity-order-book-model/">
            <meta property="og:image" content="https://rf.mokslasplius.lt/uploads/2018/granularity-order-book-model.png">
            <meta property="og:description" content="We continue our series of posts on order book models by considering an order book model proposed by Cristelli et al. [1], which is able to reproduce power-law price change. Originally this model was develop to study order impacts on a price in...">

</head>
<body>
        <nav class="navbar navbar-inverse navbar-static-top">
            <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="glyphicon glyphicon-menu-hamburger"></span>
                        </button>
                        <a class="navbar-brand" href="https://rf.mokslasplius.lt"><img src="https://rf.mokslasplius.lt/theme/img/phys-risk-light.svg" alt="Physics of Risk"> Physics of Risk</a>
                    </div>

                <div id="navbar" class="navbar-collapse collapse">
                        <ul class="nav navbar-nav">
<li ><a href="https://rf.mokslasplius.lt/about/">About</a></li>
<li ><a href="https://rf.mokslasplius.lt/students/">Students</a></li>
                        </ul>

                        <form class="navbar-form navbar-right" role="search" action="https://google.com/search" onsubmit="doSearch();">
                            <div class="form-group">
                                <div class="input-group">
                                    <input type="text" id="searchInput" name="q" class="form-control search-query" placeholder="Search using Google" required>
                                    <span class="input-group-btn"><button class="btn btn-default" type="submit"><span class="glyphicon glyphicon-search"></span></button></span>
                                </div>
                            </div>
                        </form>
                </div>
            </div>
        </nav>

        <div class="container">
            <div class="row">
                <div class="main col-md-9 article">
                    <div class="panel panel-default">
                        <div class="panel-body ">
    <article>
        <header>
            <h1>Granularity order book model</h1>
            <div class="post-meta">
                    <span class="label-calendar"><span class="glyphicon glyphicon-calendar"></span> June 05, 2018</span>
                    <a href="/author/aleksejus-kononovicius/" class="author-label label label-default" title="View articles written by this author"><span class="glyphicon glyphicon-user"></span> Aleksejus Kononovicius</a>

                <a href="/tag/interactive/" data-toggle="tooltip" class="label label-default" title="#interactive has 203 articles">#interactive</a>
            <a href="/tag/agent-based-models/" data-toggle="tooltip" class="label label-default" title="#agent-based models has 139 articles">#agent-based models</a>
            <a href="/tag/financial-markets/" data-toggle="tooltip" class="label label-default" title="#financial markets has 50 articles">#financial markets</a>
            <a href="/tag/postdoctoral-project/" data-toggle="tooltip" class="label label-default" title="#postdoctoral project has 40 articles">#postdoctoral project</a>
            <a href="/tag/power-law-distributions/" data-toggle="tooltip" class="label label-default" title="#power-law distributions has 36 articles">#power-law distributions</a>
            <a href="/tag/order-book/" data-toggle="tooltip" class="label label-default" title="#order book has 10 articles">#order book</a>


            </div>
        </header>
        <p>We continue our series of posts on <a href="/tag/order-book/">order book models</a> by
considering an order book model proposed by Cristelli et al.
<span class="article-cite-items">[<a class="article-cite-item" href="#Cristelli2010EPJB" title="M. Cristelli, V. Alfi, L. Pietronero, A. Zaccaria. Liquidity crisis, granularity of the order book and price fluctuations. European Physics Journal B 73: 41-49 (2010). doi: 10.1140/epjb/e2009-00353-6.">1</a>]</span>, which is able to reproduce power-law price
change. Originally this model was develop to study order impacts on a price
in case of finite liquidity (in case when the order book is not tightly packed).
Indeed it seems that when there are noticeable gaps behind the best bids, going
deeper into the respective order book side, a couple of consecutive orders may
cause power-law fluctuations.</p>

<h2>The model</h2>
<p>We initialize this model by filling it with order uniformly distributed around
best bids. The original paper did not specify any specific model initialization
rules, hence we picked on our own. So please allow certain burn-in period for
the model to allow for its true dynamics to emerge (around 5000-10000 time ticks
should be enough).</p>
<p>The price in this model is defined as an average between the best bids:</p>
<p>\begin{equation}
p(t) = \frac{a_0(t) + b_0(t)}{2} ,
\end{equation} </p>
<p>here \( a_0(t) \) and \( b_0(t) \) are best ask and bid quotes (prices
associated with the order) at certain time \( t \) respectively. We took
liberty to define the price, in case of any side of the order book would be emptied,
as the last executed order price.</p>
<p>In this model quotes are defined in integer price ticks relative to some
reference level (price at "zero" level). No quote may be expressed in fractional
price ticks. In this sense price tick is smallest unit of price. In the original
paper it is set to 1 (without loss of generality).</p>
<p>The time is also discrete and runs in time ticks. An order is created at each
time tick after the model initialization. The order is either ask or bid with
equal probabilities. The order is market order with probability \( \pi \)
or limit order with probability \( 1 - \pi \). In the original paper
\( \pi \) is estimated to be roughly \( 0.32 \).</p>
<p>If the order is limit order its quote is assumed to be uniformly distributed in</p>
<p>\begin{equation}
[ b_0(t)+1 , b_0(t) + k s(t) ] ,
\end{equation}</p>
<p>if the order is ask order, and uniformly distributed in</p>
<p>\begin{equation}
[ a_0(t) - k s(t) , a(t)-1 ] ,
\end{equation}</p>
<p>if the order is bid order. Namely the ask orders are put at least one price
tick away from the best bid quote and vice versa. The order are put at most
\( k \) times spread (defined as difference between best ask and bid) away
from the opposite best bid. In the original paper \( k \) is estimated to
be between \( 3 \) and \( 4 \).
If order book would be empty on the respective side, if \( b_0(t) \) or
\( a_0(t) \) would be undefined, then the order would be put one tick away
from the last executed order price. This is once again our interpretation, which
is not present in the original article.</p>
<p>If the order is market order, then it simply triggers the best opposite quote.</p>
<p>This model also includes simple order cancellation mechanic. Each order is
canceled after \( \tau \) time ticks. The original paper argues that for this
case most realistic results are produced when \( \tau \in (200,750) \).</p>
<p>In the applets below we also use parameter \( \delta \) which describes
both number of time ticks between the visual updates and used to define return
(price difference):</p>
<p>\begin{equation}
r_\delta(t) = p(t) - p(t - \delta) = \Delta_\delta p(t).
\end{equation}</p>
<h2>Interactive applets</h2>
<p>To understand the model and its dynamics better you should study the interactive
applets below.</p>
<p>The first applet, as has become usual, shows us how the structure of the order
book evolves as the time goes on. Here we have assumed that the reference level
is at \( 100 \) monies and the price tick is set to \( 0.1 \) money.
This assumption were done simply to obtain easily understandable figure.</p>
<iframe class="html5-embed html5-embed-iframe" src="https://rf.mokslasplius.lt/uploads/models/order-book-models/cristelli/ob.html" style="height: 370px; width: 520px" scrolling="no" allow="fullscreen"></iframe>
<p>The second applet is in certain sense traditional Physics of Risk applet for all
financial market models. Though there are some specific differences related to
the model in question.</p>
<p>First of all instead traditional price, or log-price,
series plot on the bottom left you see relative price series plot. Recall that
this model operates using distances in price ticks from some undefined reference
level. To get price series you should add some fixed number (price at "zero"
level).</p>
<p>Another difference is related to how return is measured in
<span class="article-cite-items">[<a class="article-cite-item" href="#Cristelli2010EPJB" title="M. Cristelli, V. Alfi, L. Pietronero, A. Zaccaria. Liquidity crisis, granularity of the order book and price fluctuations. European Physics Journal B 73: 41-49 (2010). doi: 10.1140/epjb/e2009-00353-6.">1</a>]</span>. In the paper return is measured as absolute
difference between the relative price at two different points in time. To
differentiate between the return in traditional sense (difference of log-price
at two different points in time) we call this return simply "price change" and
use \( | \Delta p | \) notation.</p>
<p>Note that \( | \Delta p | \) is power-law distributed when \( \tau \)
is small. Also note that in order to match the original paper results we have
defined the price tick as price measurement unit (in other words price tick is
equal to \( 1 \)).</p>
<iframe class="html5-embed html5-embed-iframe" src="https://rf.mokslasplius.lt/uploads/models/order-book-models/cristelli/index.html" style="height: 470px; width: 520px" scrolling="no" allow="fullscreen"></iframe>
<div class="side-note"><div class="figure float-right notouch"><img alt="esf logo" src="https://rf.mokslasplius.lt/uploads/special/esf.png"></div><p><strong>Acknowledgment.</strong> This post was written while reviewing literature relevant to the planned activities in postdoctoral fellowship ''Physical modeling of order-book and opinion dynamics'' (09.3.3-LMT-K-712-02-0026) project. The fellowship is funded by the European Social Fund under the No 09.3.3-LMT-K-712 ''Development of Competences of Scientists, other Researchers and Students through Practical Research Activities'' measure.</p></div><h2>References</h2><ul class="article-references"><li id="Cristelli2010EPJB">M. Cristelli, V. Alfi, L. Pietronero, A. Zaccaria. Liquidity crisis, granularity of the order book and price fluctuations. European Physics Journal B 73: 41-49 (2010). <a href="https://doi.org/10.1140/epjb/e2009-00353-6">doi: 10.1140/epjb/e2009-00353-6</a>.</li></ul>

            <aside>
                <h2>Related content</h2>
                <ul>
                    <li><a href="https://rf.mokslasplius.lt/order-book-model-herd-behavior/">Order book model with herd behavior</a></li>
                    <li><a href="https://rf.mokslasplius.lt/describing-high-frequency-traders-behavior-in-the-order-book/">Describing high-frequency trader's behavior in the order book</a></li>
                    <li><a href="https://rf.mokslasplius.lt/efficient-market-maker-order-book-model/">Efficient market maker order book model</a></li>
                    <li><a href="https://rf.mokslasplius.lt/order-book-model-log-normal-depth/">Order book model with log-normal depth</a></li>
                    <li><a href="https://rf.mokslasplius.lt/maslovs-order-book-model/">Maslov's order book model</a></li>
                </ul>
            </aside>
    </article>
                        </div>
                    </div>
                </div>
                <div class="sidebar col-md-3">
                            <div class="sidebar-widget info-widget panel panel-default">
            <div class="panel-body">
                <div><img class="logo" alt="website logo" src="https://rf.mokslasplius.lt/theme/img/phys-risk-letters.svg"></div>
                <p>Physics of risk, complexity and socio-economic systems.</p>
                        <ul class="list-unstyled">
            <li>    <a href="/feeds/rss.xml">
            <i class="glyphicon glyphicon-bell"></i>
        Subscribe via RSS feed
    </a></li>
            <li>    <a href="https://www.facebook.com/physics.risk/">
            <i class="glyphicon glyphicon-thumbs-up"></i>
        Follow on Facebook
    </a></li>
            <li>    <a href="https://github.com/physrisk/website-source">
            <i class="glyphicon glyphicon-cloud-download"></i>
        Content @ GitHub
    </a></li>
            <li>    <a href="https://github.com/physrisk/pelican-theme">
            <i class="glyphicon glyphicon-cloud-download"></i>
        Theme @ GitHub
    </a></li>
    </ul>

 
            </div>
        </div>

                            <div class="sidebar-widget links-widget panel panel-default">
            <div class="panel-body">
                    <ul class="list-unstyled">
            <li>    <a href="https://www.vu.lt/en/">
            <i class="glyphicon glyphicon-education"></i>
        Vilnius University
    </a></li>
            <li>    <a href="https://www.ff.vu.lt/en/">
            <i class="glyphicon glyphicon-education"></i>
        Faculty of Physics
    </a></li>
            <li>    <a href="https://www.ff.vu.lt/en/itpa/">
            <i class="glyphicon glyphicon-education"></i>
        Institute of Theoretical Physics and Astronomy
    </a></li>
            <li>    <a href="https://rf.mokslasplius.lt/vilnius-2006-cost-p10/">
            <span class="glyphicon glyphicon-link"></span>
        COST P10 meeting in Vilnius (2006)
    </a></li>
            <li>    <a href="https://www.dpg-physik.de/vereinigungen/fachlich/skm/fvsoe">
            <span class="glyphicon glyphicon-link"></span>
        DPG Physics of Socio-Economic Systems Division
    </a></li>
            <li>    <a href="https://www.ptf.net.pl/en/fens">
            <span class="glyphicon glyphicon-link"></span>
        PPS Physics in Economy and Social Sciences
    </a></li>
    </ul>

            </div>
        </div>

                        <div class="sidebar-widget hashtag-widget panel panel-default">
        <div class="panel-body">
                <a href="/tag/interactive/" data-toggle="tooltip" class="label label-default" title="#interactive has 203 articles">#interactive</a>
                <a href="/tag/video/" data-toggle="tooltip" class="label label-default" title="#video has 172 articles">#video</a>
                <a href="/tag/agent-based-models/" data-toggle="tooltip" class="label label-default" title="#agent-based models has 139 articles">#agent-based models</a>
                <a href="/tag/economics/" data-toggle="tooltip" class="label label-default" title="#economics has 101 articles">#economics</a>
                <a href="/tag/statistics/" data-toggle="tooltip" class="label label-default" title="#statistics has 84 articles">#statistics</a>
                <a href="/tag/opinion-dynamics/" data-toggle="tooltip" class="label label-default" title="#opinion dynamics has 80 articles">#opinion dynamics</a>
                <a href="/tag/general/" data-toggle="tooltip" class="label label-default" title="#general has 69 articles">#general</a>
                <a href="/tag/statistical-physics/" data-toggle="tooltip" class="label label-default" title="#statistical physics has 53 articles">#statistical physics</a>
                <a href="/tag/politics/" data-toggle="tooltip" class="label label-default" title="#politics has 51 articles">#politics</a>
                <a href="/tag/financial-markets/" data-toggle="tooltip" class="label label-default" title="#financial markets has 50 articles">#financial markets</a>
                <a href="/tag/stochastic-models/" data-toggle="tooltip" class="label label-default" title="#stochastic models has 49 articles">#stochastic models</a>
                <a href="/tag/voter-model/" data-toggle="tooltip" class="label label-default" title="#voter model has 48 articles">#voter model</a>
                <a href="/tag/a-kononovicius/" data-toggle="tooltip" class="label label-default" title="#A. Kononovicius has 41 articles">#A. Kononovicius</a>
                <a href="/tag/postdoctoral-project/" data-toggle="tooltip" class="label label-default" title="#postdoctoral project has 40 articles">#postdoctoral project</a>
                <a href="/tag/networks/" data-toggle="tooltip" class="label label-default" title="#networks has 39 articles">#networks</a>
                <a href="/tag/power-law-distributions/" data-toggle="tooltip" class="label label-default" title="#power-law distributions has 36 articles">#power-law distributions</a>
                <a href="/tag/v-gontis/" data-toggle="tooltip" class="label label-default" title="#V. Gontis has 35 articles">#V. Gontis</a>
                <a href="/tag/1f-noise/" data-toggle="tooltip" class="label label-default" title="#1/f noise has 34 articles">#1/f noise</a>
                <a href="/tag/game-theory/" data-toggle="tooltip" class="label label-default" title="#game theory has 30 articles">#game theory</a>
                <a href="/tag/kirman-model/" data-toggle="tooltip" class="label label-default" title="#Kirman model has 28 articles">#Kirman model</a>
                <a href="/tag/popular-culture/" data-toggle="tooltip" class="label label-default" title="#popular culture has 27 articles">#popular culture</a>
                <a href="/tag/sociology/" data-toggle="tooltip" class="label label-default" title="#sociology has 27 articles">#sociology</a>
                <a href="/tag/biology/" data-toggle="tooltip" class="label label-default" title="#biology has 26 articles">#biology</a>
                <a href="/tag/fractals/" data-toggle="tooltip" class="label label-default" title="#fractals has 25 articles">#fractals</a>
                <a href="/tag/tedcom/" data-toggle="tooltip" class="label label-default" title="#ted.com has 25 articles">#ted.com</a>
                <a href="/tag/numberphile/" data-toggle="tooltip" class="label label-default" title="#Numberphile has 23 articles">#Numberphile</a>
                <a href="/tag/methods/" data-toggle="tooltip" class="label label-default" title="#methods has 22 articles">#methods</a>
                <a href="/tag/students/" data-toggle="tooltip" class="label label-default" title="#students has 21 articles">#students</a>
                <a href="/tag/free-market/" data-toggle="tooltip" class="label label-default" title="#free market has 19 articles">#free market</a>
                <a href="/tag/competition/" data-toggle="tooltip" class="label label-default" title="#competition has 19 articles">#competition</a>
                <a href="/tag/spectral-density/" data-toggle="tooltip" class="label label-default" title="#spectral density has 19 articles">#spectral density</a>
                <a href="/tag/macroeconomics/" data-toggle="tooltip" class="label label-default" title="#macroeconomics has 18 articles">#macroeconomics</a>
                <a href="/tag/github/" data-toggle="tooltip" class="label label-default" title="#GitHub has 17 articles">#GitHub</a>
                <a href="/tag/gross-domestic-product/" data-toggle="tooltip" class="label label-default" title="#gross domestic product has 16 articles">#gross domestic product</a>
                <a href="/tag/conflicts/" data-toggle="tooltip" class="label label-default" title="#conflicts has 16 articles">#conflicts</a>
                <a href="/tag/traffic/" data-toggle="tooltip" class="label label-default" title="#traffic has 16 articles">#traffic</a>
                <a href="/tag/epidemiology/" data-toggle="tooltip" class="label label-default" title="#epidemiology has 15 articles">#epidemiology</a>
                <a href="/tag/dynamical-chaos/" data-toggle="tooltip" class="label label-default" title="#dynamical chaos has 14 articles">#dynamical chaos</a>
                <a href="/tag/kinetic-models/" data-toggle="tooltip" class="label label-default" title="#kinetic models has 13 articles">#kinetic models</a>
                <a href="/tag/burst-statistics/" data-toggle="tooltip" class="label label-default" title="#burst statistics has 13 articles">#burst statistics</a>
                <a href="/tag/market-price/" data-toggle="tooltip" class="label label-default" title="#market price has 13 articles">#market price</a>
                <a href="/tag/wealth/" data-toggle="tooltip" class="label label-default" title="#wealth has 12 articles">#wealth</a>
                <a href="/tag/sports/" data-toggle="tooltip" class="label label-default" title="#sports has 12 articles">#sports</a>
                <a href="/tag/brownian-motion/" data-toggle="tooltip" class="label label-default" title="#Brownian motion has 12 articles">#Brownian motion</a>
                <a href="/tag/ising-model/" data-toggle="tooltip" class="label label-default" title="#Ising model has 11 articles">#Ising model</a>
                <a href="/tag/conference/" data-toggle="tooltip" class="label label-default" title="#conference has 11 articles">#conference</a>
                <a href="/tag/paradox/" data-toggle="tooltip" class="label label-default" title="#paradox has 11 articles">#paradox</a>
                <a href="/tag/barabasi-albert-model/" data-toggle="tooltip" class="label label-default" title="#Barabasi-Albert model has 10 articles">#Barabasi-Albert model</a>
                <a href="/tag/topic-price-formation/" data-toggle="tooltip" class="label label-default" title="#topic: price formation has 10 articles">#topic: price formation</a>
                <a href="/tag/topic-arfima/" data-toggle="tooltip" class="label label-default" title="#topic: ARFIMA has 10 articles">#topic: ARFIMA</a>
             <div><a class="more-tags btn btn-primary" href="/tags.html">See all topics...</a></div>
        </div>
    </div>

                </div>
            </div>
        </div>
    
        <footer class="footer navbar-inverse container-fluid">
                <div class="license-info container">
                        <a class="license" rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/" title="Creative Commons License"><img alt="Creative Commons License" src="/theme/img/license-80x15.png"></a>
        2006 &ndash; 2026 
        Physics of Risk.
    The views and opinions expressed on this site are those of the <a href="https://rf.mokslasplius.lt/about/">authors</a> and do not necessarily reflect the official policies or positions of their previous, current and future employers or any of the employers' affiliates, partners or customers. Our Privacy Policy can be found <a href="https://rf.mokslasplius.lt/privacy-policy.html">here</a>. Generated by <a href="https://getpelican.com">Pelican</a> using <a href="https://github.com/physrisk/pelican-theme">PhysRisk</a> theme.

                </div>
        </footer>

            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha384-rY/jv8mMhqDabXSo+UCggqKtdmBfd3qC2/KvyTDNQ6PcUJXaxK1tMepoQda4g5vB" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
            <script src="https://rf.mokslasplius.lt/theme/js/application.js"></script>
            <script id="MathJax-script" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.min.js" integrity="sha512-6FaAxxHuKuzaGHWnV00ftWqP3luSBRSopnNAA2RvQH1fOfnF/A1wOfiUWF7cLIOFcfb1dEhXwo5VG3DAisocRw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

</body>
</html>